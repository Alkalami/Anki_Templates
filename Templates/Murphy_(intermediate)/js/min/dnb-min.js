function countWordsInCorrectPlace(){var e=$("#sortable > li").length;$("#total").html(e);var t=$("#sortable").children();return t=jQuery.makeArray(t).reduce(function(e,t,r){return+t.dataset.rank===r?e+1:e},0)}function renderWordShadows(){$("#sortable > li").each(function(e){e===+$(this).data("rank")?$(this).removeClass("red-shadow").addClass("green-shadow"):$(this).removeClass("green-shadow").addClass("red-shadow")})}function shuffle(e){for(var t=e.length,r,o;0!==t;)o=Math.floor(Math.random()*t),t-=1,r=e[t],e[t]=e[o],e[o]=r;return e}function renderWords(e){e.forEach(function(e,t){$("#sortable").append("<li data-rank='"+e.trueIndex+"'>"+e.text+"</li>")}),$("#sortable > li").addClass("ui-state-default")}$(function(){$("#sortable").sortable(),$("#sortable").disableSelection()}),$("#sortable").on("sortstop",function(){$("#count").html(countWordsInCorrectPlace()),renderWordShadows()});var countMe=document.getElementById("count").textContent,theAnswer=countMe.split(" ").map(function(e,t){return{text:e,trueIndex:t}}),myWords=shuffle(theAnswer);renderWords(myWords),renderWordShadows(),$("#count").html(countWordsInCorrectPlace());